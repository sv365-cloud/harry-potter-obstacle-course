{"ast":null,"code":"var _jsxFileName = \"/Users/sarathvallabhaneni/Desktop/harry-potter-obstacle-course/frontend/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from \"react\";\nimport { renderHarry, renderObstacle, renderEnemy, renderBeams } from \"./GameEntities\";\nimport IntroScreen from \"./IntroScreen\";\nimport HelpModal from \"./HelpModal\";\nimport GameOverScreen from \"./GameOverScreen\";\nimport PauseOverlay from \"./PauseOverlay\";\nimport Leaderboard from \"./Leaderboard\";\n\n/**\n * Main Harry Potter Obstacle Course Game Component\n * \n * Features:\n * - Endless runner gameplay with physics-based flight\n * - Magic spell combat system\n * - Real-time leaderboard integration\n * - Pause/resume functionality\n * - Multiple game states (intro, playing, game over)\n */\n\n// ----- GAME CONFIGURATION AND CONSTANTS -----\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CONFIG = {\n  GAME_WIDTH: 800,\n  GAME_HEIGHT: 600,\n  PLAYER_W: 48,\n  PLAYER_H: 48,\n  GRAVITY: 0.6,\n  FLAP_VEL: -8,\n  OBSTACLE_W: 60,\n  OBSTACLE_GAP: 220,\n  ENEMY_W: 40,\n  ENEMY_H: 40,\n  BEAM_W: 10,\n  API: \"http://localhost:8000\"\n};\n\n// ----- TYPE DEFINITIONS -----\n\n// ----- UTILITY FUNCTIONS -----\nfunction getRandomObstacle(id) {\n  const min = 10;\n  const max = CONFIG.GAME_HEIGHT - CONFIG.OBSTACLE_GAP - 10;\n  const height = Math.floor(Math.random() * (max - min) + min);\n  return {\n    x: CONFIG.GAME_WIDTH,\n    height,\n    id\n  };\n}\nfunction getRandomEnemy(id) {\n  const y = Math.floor(Math.random() * (CONFIG.GAME_HEIGHT - CONFIG.ENEMY_H - 20)) + 10;\n  return {\n    x: CONFIG.GAME_WIDTH,\n    y,\n    color: \"#1a1a1a\",\n    type: \"Witch\",\n    id\n  };\n}\n\n// ----- MAIN GAME COMPONENT -----\nexport default function App() {\n  _s();\n  // --- Game State ---\n  const [playerY, setPlayerY] = useState(CONFIG.GAME_HEIGHT / 2);\n  const [vel, setVel] = useState(0);\n  const [obstacles, setObstacles] = useState([getRandomObstacle(0)]);\n  const [enemies, setEnemies] = useState([]);\n  const [beams, setBeams] = useState([]);\n  const [score, setScore] = useState(0);\n  const [running, setRunning] = useState(false);\n  const [gameOver, setGameOver] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [showIntro, setShowIntro] = useState(true);\n  const [showHelp, setShowHelp] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n\n  // For unique IDs (refs, so do not cause rerenders)\n  const obstacleId = useRef(1);\n  const enemyId = useRef(1);\n\n  // ----- MAIN GAME LOOP (runs every 24ms) -----\n  useEffect(() => {\n    if (!running || isPaused) return;\n    const interval = setInterval(() => {\n      // Apply gravity to Harry's vertical velocity\n      setVel(v => Math.min(v + CONFIG.GRAVITY, 10));\n      // Move Harry vertically, keeping within vertical bounds\n      setPlayerY(y => Math.max(0, Math.min(CONFIG.GAME_HEIGHT - CONFIG.PLAYER_H, y + vel)));\n      setScore(s => s + 1);\n\n      // Move pillars leftward, spawn new pillars when necessary\n      setObstacles(obs => {\n        let nobs = obs.map(o => ({\n          ...o,\n          x: o.x - 3\n        }));\n        if (!gameOver && (nobs.length === 0 || nobs[nobs.length - 1].x < CONFIG.GAME_WIDTH - 200)) {\n          nobs.push(getRandomObstacle(obstacleId.current++));\n        }\n        return nobs.filter(o => o.x + CONFIG.OBSTACLE_W > 0);\n      });\n\n      // Move enemies leftward, rarely spawn new ones, trim offscreen\n      setEnemies(enms => {\n        let nenms = enms.map(e => ({\n          ...e,\n          x: e.x - 5\n        }));\n        if (Math.random() > 0.985) {\n          nenms.push(getRandomEnemy(enemyId.current++));\n        }\n        return nenms.filter(e => e.x + CONFIG.ENEMY_W > 0);\n      });\n\n      // Move beams to the right, remove offscreen or inactive\n      setBeams(bs => bs.filter(b => b.active && b.x < CONFIG.GAME_WIDTH).map(b => ({\n        ...b,\n        x: b.x + 16\n      })));\n    }, 24);\n    return () => clearInterval(interval);\n  }, [vel, running, gameOver, isPaused]);\n\n  // ----- INPUT HANDLING -----\n  useEffect(() => {\n    if (!running) return;\n\n    // Make Harry flap\n    const flap = () => setVel(CONFIG.FLAP_VEL);\n    // Cast a magic beam\n    const cast = () => setBeams(bs => [...bs, {\n      x: 30 + CONFIG.PLAYER_W,\n      y: playerY + CONFIG.PLAYER_H / 2 - 4,\n      active: true\n    }]);\n\n    // Keyboard handler\n    const onKey = e => {\n      // Prevent scrolling on arrows during game\n      if (e.key === \"ArrowLeft\" || e.key === \"ArrowRight\" || e.key === \"ArrowUp\" || e.key === \"ArrowDown\") {\n        e.preventDefault();\n      }\n      // P key: pause/unpause game\n      if (e.key === \"p\" || e.key === \"P\") {\n        e.preventDefault();\n        setIsPaused(prev => !prev);\n        return;\n      }\n      // Space bar: cast magic beam\n      if (e.code === \"Space\") {\n        e.preventDefault();\n        cast();\n      }\n      // Up arrow: flap\n      if (e.key === \"ArrowUp\") flap();\n    };\n    window.addEventListener(\"keydown\", onKey);\n    window.addEventListener(\"mousedown\", flap); // For mouse click flap\n    window.addEventListener(\"touchstart\", flap); // For tap flap\n\n    return () => {\n      window.removeEventListener(\"keydown\", onKey);\n      window.removeEventListener(\"mousedown\", flap);\n      window.removeEventListener(\"touchstart\", flap);\n    };\n  }, [playerY, running]);\n\n  // ----- COLLISION DETECTION -----\n  useEffect(() => {\n    if (!running) return;\n    // Harry's bounding box\n    const harryTop = playerY,\n      harryBot = playerY + CONFIG.PLAYER_H,\n      harryLeft = 30,\n      harryRight = 30 + CONFIG.PLAYER_W;\n\n    // Pillar collision (with a forgiving margin of 3px)\n    for (const obs of obstacles) {\n      if (obs.x < harryRight + 3 && obs.x + CONFIG.OBSTACLE_W > harryLeft - 3 && (harryTop < obs.height - 3 || harryBot > obs.height + CONFIG.OBSTACLE_GAP + 3)) {\n        setRunning(false);\n        setGameOver(true);\n      }\n    }\n\n    // Enemy collision (forgiveness margin 2px)\n    for (const enemy of enemies) {\n      if (enemy.x < harryRight + 2 && enemy.x + CONFIG.ENEMY_W > harryLeft - 2 && enemy.y < harryBot + 2 && enemy.y + CONFIG.ENEMY_H > harryTop - 2) {\n        setRunning(false);\n        setGameOver(true);\n      }\n    }\n\n    // Beams collide with enemies -- both are removed\n    setBeams(bs => {\n      const newBeams = [...bs];\n      setEnemies(enms => enms.filter(enemy => {\n        let hit = false;\n        for (let i = 0; i < newBeams.length; i++) {\n          const beam = newBeams[i];\n          if (beam.active && beam.y > enemy.y - 5 && beam.y < enemy.y + CONFIG.ENEMY_H + 5 && beam.x + CONFIG.BEAM_W > enemy.x - 5 && beam.x < enemy.x + CONFIG.ENEMY_W + 5) {\n            hit = true;\n            newBeams[i] = {\n              ...beam,\n              active: false\n            };\n            break;\n          }\n        }\n        return !hit;\n      }));\n      return newBeams;\n    });\n\n    // Game over if Harry hits top or bottom of screen\n    if (playerY <= 0 || playerY + CONFIG.PLAYER_H >= CONFIG.GAME_HEIGHT) {\n      setRunning(false);\n      setGameOver(true);\n    }\n  }, [playerY, obstacles, enemies, beams, running]);\n\n  // ----- LEADERBOARD -----\n  useEffect(() => {\n    fetch(`${CONFIG.API}/leaderboard`).then(res => res.json()).then(setLeaderboard).catch(() => setLeaderboard([]));\n  }, [gameOver]);\n\n  // ----- GAME FLOW HANDLERS -----\n  function startGame() {\n    setPlayerY(CONFIG.GAME_HEIGHT / 2);\n    setVel(0);\n    setObstacles([getRandomObstacle(0)]);\n    setEnemies([]);\n    setBeams([]);\n    setScore(0);\n    setGameOver(false);\n    setRunning(true);\n    setShowIntro(false);\n    obstacleId.current = 1;\n    enemyId.current = 1;\n  }\n  function submitScore() {\n    // Validate name\n    const trimmedName = name.trim();\n    if (!trimmedName) {\n      alert(\"Please enter a name before submitting your score!\");\n      return;\n    }\n    const capitalizedName = trimmedName.charAt(0).toUpperCase() + trimmedName.slice(1).toLowerCase();\n    fetch(`${CONFIG.API}/submit`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name: capitalizedName,\n        score\n      })\n    }).then(() => fetch(`${CONFIG.API}/leaderboard`)).then(res => res.json()).then(setLeaderboard).then(() => {\n      setShowIntro(true);\n      setGameOver(false);\n      setName(\"\"); // Clear the name field\n    });\n  }\n\n  // ----- RENDER -----\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: \"center\",\n      fontFamily: \"serif\",\n      background: \"#1c1746\",\n      minHeight: \"100vh\",\n      color: \"#fff\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        color: \"#f3ce13\",\n        margin: 0,\n        padding: \"16px 0\",\n        fontFamily: \"Harry Potter, serif\"\n      },\n      children: \"Harry Potter: Hogwarts Obstacle Course\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this), showHelp && /*#__PURE__*/_jsxDEV(HelpModal, {\n      onClose: () => setShowHelp(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"flex-start\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"relative\"\n        },\n        children: [running && !isPaused && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsPaused(true),\n          style: {\n            position: \"absolute\",\n            top: \"10px\",\n            left: \"10px\",\n            zIndex: 10,\n            background: \"rgba(0,0,0,0.7)\",\n            color: \"#f3ce13\",\n            border: \"2px solid #f3ce13\",\n            borderRadius: \"5px\",\n            padding: \"8px 12px\",\n            cursor: \"pointer\",\n            fontSize: \"14px\",\n            fontWeight: \"bold\"\n          },\n          children: \"\\u23F8\\uFE0F Pause (P)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this), showIntro ? /*#__PURE__*/_jsxDEV(IntroScreen, {\n          onStart: startGame,\n          onHelp: () => setShowHelp(true),\n          gameWidth: CONFIG.GAME_WIDTH,\n          gameHeight: CONFIG.GAME_HEIGHT\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this) : !running && gameOver ? /*#__PURE__*/_jsxDEV(GameOverScreen, {\n          score: score,\n          name: name,\n          setName: setName,\n          onSubmit: submitScore,\n          onPlayAgain: startGame,\n          onMainMenu: () => {\n            setShowIntro(true);\n            setGameOver(false);\n          },\n          gameWidth: CONFIG.GAME_WIDTH,\n          gameHeight: CONFIG.GAME_HEIGHT\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this) :\n        /*#__PURE__*/\n        /* Normal Game Display */\n        _jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: CONFIG.GAME_WIDTH,\n            height: CONFIG.GAME_HEIGHT,\n            style: {\n              background: \"#222d45\",\n              border: \"4px solid #665f51\",\n              borderRadius: \"8px\"\n            },\n            children: [[...Array(24)].map((_, i) => /*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: Math.random() * CONFIG.GAME_WIDTH,\n              cy: Math.random() * CONFIG.GAME_HEIGHT,\n              r: 1.2,\n              fill: \"white\",\n              opacity: \"0.5\"\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 19\n            }, this)), obstacles.map(o => renderObstacle(o, CONFIG.OBSTACLE_W, CONFIG.OBSTACLE_GAP, CONFIG.GAME_HEIGHT)), enemies.map(e => renderEnemy(e, CONFIG.ENEMY_W, CONFIG.ENEMY_H)), renderBeams(beams), renderHarry(playerY, beams, CONFIG.PLAYER_W, CONFIG.PLAYER_H)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: \"24px\",\n              margin: \"16px 0\",\n              color: \"#f3ce13\",\n              fontWeight: \"bold\",\n              textShadow: \"2px 2px 4px rgba(0,0,0,0.5)\"\n            },\n            children: [\"Score: \", score]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), isPaused && /*#__PURE__*/_jsxDEV(PauseOverlay, {\n          onResume: () => setIsPaused(false),\n          onRestart: () => {\n            setIsPaused(false);\n            startGame();\n          },\n          onHelp: () => setShowHelp(true),\n          gameWidth: CONFIG.GAME_WIDTH,\n          gameHeight: CONFIG.GAME_HEIGHT\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Leaderboard, {\n        leaderboard: leaderboard\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 252,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"kpknIvWFSZ5vQIoGCaneZF1XTWg=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useRef","useEffect","useState","renderHarry","renderObstacle","renderEnemy","renderBeams","IntroScreen","HelpModal","GameOverScreen","PauseOverlay","Leaderboard","jsxDEV","_jsxDEV","Fragment","_Fragment","CONFIG","GAME_WIDTH","GAME_HEIGHT","PLAYER_W","PLAYER_H","GRAVITY","FLAP_VEL","OBSTACLE_W","OBSTACLE_GAP","ENEMY_W","ENEMY_H","BEAM_W","API","getRandomObstacle","id","min","max","height","Math","floor","random","x","getRandomEnemy","y","color","type","App","_s","playerY","setPlayerY","vel","setVel","obstacles","setObstacles","enemies","setEnemies","beams","setBeams","score","setScore","running","setRunning","gameOver","setGameOver","name","setName","leaderboard","setLeaderboard","showIntro","setShowIntro","showHelp","setShowHelp","isPaused","setIsPaused","obstacleId","enemyId","interval","setInterval","v","s","obs","nobs","map","o","length","push","current","filter","enms","nenms","e","bs","b","active","clearInterval","flap","cast","onKey","key","preventDefault","prev","code","window","addEventListener","removeEventListener","harryTop","harryBot","harryLeft","harryRight","enemy","newBeams","hit","i","beam","fetch","then","res","json","catch","startGame","submitScore","trimmedName","trim","alert","capitalizedName","charAt","toUpperCase","slice","toLowerCase","method","headers","body","JSON","stringify","style","textAlign","fontFamily","background","minHeight","children","margin","padding","fileName","_jsxFileName","lineNumber","columnNumber","onClose","display","justifyContent","alignItems","position","onClick","top","left","zIndex","border","borderRadius","cursor","fontSize","fontWeight","onStart","onHelp","gameWidth","gameHeight","onSubmit","onPlayAgain","onMainMenu","width","Array","_","cx","cy","r","fill","opacity","textShadow","onResume","onRestart","_c","$RefreshReg$"],"sources":["/Users/sarathvallabhaneni/Desktop/harry-potter-obstacle-course/frontend/src/App.tsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\nimport { renderHarry, renderObstacle, renderEnemy, renderBeams } from \"./GameEntities\";\nimport IntroScreen from \"./IntroScreen\";\nimport HelpModal from \"./HelpModal\";\nimport GameOverScreen from \"./GameOverScreen\";\nimport PauseOverlay from \"./PauseOverlay\";\nimport Leaderboard from \"./Leaderboard\";\n\n/**\n * Main Harry Potter Obstacle Course Game Component\n * \n * Features:\n * - Endless runner gameplay with physics-based flight\n * - Magic spell combat system\n * - Real-time leaderboard integration\n * - Pause/resume functionality\n * - Multiple game states (intro, playing, game over)\n */\n\n// ----- GAME CONFIGURATION AND CONSTANTS -----\nconst CONFIG = {\n  GAME_WIDTH: 800,\n  GAME_HEIGHT: 600,\n  PLAYER_W: 48,\n  PLAYER_H: 48,\n  GRAVITY: 0.6,\n  FLAP_VEL: -8,\n  OBSTACLE_W: 60,\n  OBSTACLE_GAP: 220,\n  ENEMY_W: 40,\n  ENEMY_H: 40,\n  BEAM_W: 10,\n  API: \"http://localhost:8000\",\n};\n\n// ----- TYPE DEFINITIONS -----\ntype Obstacle = { x: number; height: number; id: number };\ntype Enemy = { x: number; y: number; color: string; type: string; id: number };\ntype Beam = { x: number; y: number; active: boolean };\ntype ScoreEntry = { name: string; score: number };\n\n// ----- UTILITY FUNCTIONS -----\nfunction getRandomObstacle(id: number): Obstacle {\n  const min = 10;\n  const max = CONFIG.GAME_HEIGHT - CONFIG.OBSTACLE_GAP - 10;\n  const height = Math.floor(Math.random() * (max - min) + min);\n  return { x: CONFIG.GAME_WIDTH, height, id };\n}\n\nfunction getRandomEnemy(id: number): Enemy {\n  const y = Math.floor(Math.random() * (CONFIG.GAME_HEIGHT - CONFIG.ENEMY_H - 20)) + 10;\n  return { x: CONFIG.GAME_WIDTH, y, color: \"#1a1a1a\", type: \"Witch\", id };\n}\n\n// ----- MAIN GAME COMPONENT -----\nexport default function App() {\n  // --- Game State ---\n  const [playerY, setPlayerY] = useState(CONFIG.GAME_HEIGHT / 2);\n  const [vel, setVel] = useState(0);\n  const [obstacles, setObstacles] = useState<Obstacle[]>([getRandomObstacle(0)]);\n  const [enemies, setEnemies] = useState<Enemy[]>([]);\n  const [beams, setBeams] = useState<Beam[]>([]);\n  const [score, setScore] = useState(0);\n\n  const [running, setRunning] = useState(false);\n  const [gameOver, setGameOver] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [leaderboard, setLeaderboard] = useState<ScoreEntry[]>([]);\n  const [showIntro, setShowIntro] = useState(true);\n  const [showHelp, setShowHelp] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n\n  // For unique IDs (refs, so do not cause rerenders)\n  const obstacleId = useRef(1);\n  const enemyId = useRef(1);\n\n  // ----- MAIN GAME LOOP (runs every 24ms) -----\n  useEffect(() => {\n    if (!running || isPaused) return;\n    const interval = setInterval(() => {\n      // Apply gravity to Harry's vertical velocity\n      setVel(v => Math.min(v + CONFIG.GRAVITY, 10));\n      // Move Harry vertically, keeping within vertical bounds\n      setPlayerY(y => Math.max(0, Math.min(CONFIG.GAME_HEIGHT - CONFIG.PLAYER_H, y + vel)));\n      setScore(s => s + 1);\n\n      // Move pillars leftward, spawn new pillars when necessary\n      setObstacles(obs => {\n        let nobs = obs.map(o => ({ ...o, x: o.x - 3 }));\n        if (!gameOver && (nobs.length === 0 || nobs[nobs.length - 1].x < CONFIG.GAME_WIDTH - 200)) {\n          nobs.push(getRandomObstacle(obstacleId.current++));\n        }\n        return nobs.filter(o => o.x + CONFIG.OBSTACLE_W > 0);\n      });\n\n      // Move enemies leftward, rarely spawn new ones, trim offscreen\n      setEnemies(enms => {\n        let nenms = enms.map(e => ({ ...e, x: e.x - 5 }));\n        if (Math.random() > 0.985) {\n          nenms.push(getRandomEnemy(enemyId.current++));\n        }\n        return nenms.filter(e => e.x + CONFIG.ENEMY_W > 0);\n      });\n\n      // Move beams to the right, remove offscreen or inactive\n      setBeams(bs =>\n        bs.filter(b => b.active && b.x < CONFIG.GAME_WIDTH).map(b => ({ ...b, x: b.x + 16 }))\n      );\n    }, 24);\n    return () => clearInterval(interval);\n  }, [vel, running, gameOver, isPaused]);\n\n  // ----- INPUT HANDLING -----\n  useEffect(() => {\n    if (!running) return;\n\n    // Make Harry flap\n    const flap = () => setVel(CONFIG.FLAP_VEL);\n    // Cast a magic beam\n    const cast = () => setBeams(bs => [...bs, { x: 30 + CONFIG.PLAYER_W, y: playerY + CONFIG.PLAYER_H / 2 - 4, active: true }]);\n\n    // Keyboard handler\n    const onKey = (e: KeyboardEvent) => {\n      // Prevent scrolling on arrows during game\n      if (e.key === \"ArrowLeft\" || e.key === \"ArrowRight\" || e.key === \"ArrowUp\" || e.key === \"ArrowDown\") {\n        e.preventDefault();\n      }\n      // P key: pause/unpause game\n      if (e.key === \"p\" || e.key === \"P\") {\n        e.preventDefault();\n        setIsPaused(prev => !prev);\n        return;\n      }\n      // Space bar: cast magic beam\n      if (e.code === \"Space\") { e.preventDefault(); cast(); }\n      // Up arrow: flap\n      if (e.key === \"ArrowUp\") flap();\n    };\n\n    window.addEventListener(\"keydown\", onKey);\n    window.addEventListener(\"mousedown\", flap); // For mouse click flap\n    window.addEventListener(\"touchstart\", flap); // For tap flap\n\n    return () => {\n      window.removeEventListener(\"keydown\", onKey);\n      window.removeEventListener(\"mousedown\", flap);\n      window.removeEventListener(\"touchstart\", flap);\n    };\n  }, [playerY, running]);\n\n  // ----- COLLISION DETECTION -----\n  useEffect(() => {\n    if (!running) return;\n    // Harry's bounding box\n    const harryTop = playerY, harryBot = playerY + CONFIG.PLAYER_H, harryLeft = 30, harryRight = 30 + CONFIG.PLAYER_W;\n\n    // Pillar collision (with a forgiving margin of 3px)\n    for (const obs of obstacles) {\n      if (\n        obs.x < harryRight + 3 &&\n        obs.x + CONFIG.OBSTACLE_W > harryLeft - 3 &&\n        (harryTop < obs.height - 3 || harryBot > obs.height + CONFIG.OBSTACLE_GAP + 3)\n      ) {\n        setRunning(false); setGameOver(true);\n      }\n    }\n\n    // Enemy collision (forgiveness margin 2px)\n    for (const enemy of enemies) {\n      if (\n        enemy.x < harryRight + 2 &&\n        enemy.x + CONFIG.ENEMY_W > harryLeft - 2 &&\n        enemy.y < harryBot + 2 &&\n        enemy.y + CONFIG.ENEMY_H > harryTop - 2\n      ) {\n        setRunning(false); setGameOver(true);\n      }\n    }\n\n    // Beams collide with enemies -- both are removed\n    setBeams(bs => {\n      const newBeams = [...bs];\n      setEnemies(enms => enms.filter(enemy => {\n        let hit = false;\n        for (let i = 0; i < newBeams.length; i++) {\n          const beam = newBeams[i];\n          if (beam.active && beam.y > enemy.y - 5 && beam.y < enemy.y + CONFIG.ENEMY_H + 5 && beam.x + CONFIG.BEAM_W > enemy.x - 5 && beam.x < enemy.x + CONFIG.ENEMY_W + 5) {\n            hit = true; newBeams[i] = { ...beam, active: false }; break;\n          }\n        }\n        return !hit;\n      }));\n      return newBeams;\n    });\n\n    // Game over if Harry hits top or bottom of screen\n    if (playerY <= 0 || playerY + CONFIG.PLAYER_H >= CONFIG.GAME_HEIGHT) {\n      setRunning(false); setGameOver(true);\n    }\n  }, [playerY, obstacles, enemies, beams, running]);\n\n  // ----- LEADERBOARD -----\n  useEffect(() => {\n    fetch(`${CONFIG.API}/leaderboard`)\n      .then(res => res.json())\n      .then(setLeaderboard)\n      .catch(() => setLeaderboard([]));\n  }, [gameOver]);\n\n  // ----- GAME FLOW HANDLERS -----\n  function startGame() {\n    setPlayerY(CONFIG.GAME_HEIGHT / 2);\n    setVel(0);\n    setObstacles([getRandomObstacle(0)]);\n    setEnemies([]);\n    setBeams([]);\n    setScore(0);\n    setGameOver(false);\n    setRunning(true);\n    setShowIntro(false);\n    obstacleId.current = 1;\n    enemyId.current = 1;\n  }\n\n  function submitScore() {\n    // Validate name\n    const trimmedName = name.trim();\n    if (!trimmedName) {\n      alert(\"Please enter a name before submitting your score!\");\n      return;\n    }\n\n    const capitalizedName = trimmedName.charAt(0).toUpperCase() + trimmedName.slice(1).toLowerCase();\n\n    fetch(`${CONFIG.API}/submit`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ name: capitalizedName, score }),\n    })\n      .then(() => fetch(`${CONFIG.API}/leaderboard`))\n      .then(res => res.json())\n      .then(setLeaderboard)\n      .then(() => {\n        setShowIntro(true);\n        setGameOver(false);\n        setName(\"\"); // Clear the name field\n      });\n  }\n\n  // ----- RENDER -----\n  return (\n    <div style={{ textAlign: \"center\", fontFamily: \"serif\", background: \"#1c1746\", minHeight: \"100vh\", color: \"#fff\" }}>\n      {/* Game Title */}\n      <h2 style={{ color: \"#f3ce13\", margin: 0, padding: \"16px 0\", fontFamily: \"Harry Potter, serif\" }}>Harry Potter: Hogwarts Obstacle Course</h2>\n\n      {/* Help Modal */}\n      {showHelp && <HelpModal onClose={() => setShowHelp(false)} />}\n\n      {/* Main Game and Leaderboard */}\n      <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"flex-start\" }}>\n        {/* Game Area, Intro Screen, or Game Over Screen */}\n        <div style={{ position: \"relative\" }}>\n          {/* Pause Button - only show when game is running */}\n          {running && !isPaused && (\n            <button\n              onClick={() => setIsPaused(true)}\n              style={{\n                position: \"absolute\",\n                top: \"10px\",\n                left: \"10px\",\n                zIndex: 10,\n                background: \"rgba(0,0,0,0.7)\",\n                color: \"#f3ce13\",\n                border: \"2px solid #f3ce13\",\n                borderRadius: \"5px\",\n                padding: \"8px 12px\",\n                cursor: \"pointer\",\n                fontSize: \"14px\",\n                fontWeight: \"bold\"\n              }}\n            >\n              ⏸️ Pause (P)\n            </button>\n          )}\n\n          {showIntro ? (\n            <IntroScreen \n              onStart={startGame} \n              onHelp={() => setShowHelp(true)} \n              gameWidth={CONFIG.GAME_WIDTH}\n              gameHeight={CONFIG.GAME_HEIGHT}\n            />\n          ) : !running && gameOver ? (\n            <GameOverScreen\n              score={score}\n              name={name}\n              setName={setName}\n              onSubmit={submitScore}\n              onPlayAgain={startGame}\n              onMainMenu={() => { setShowIntro(true); setGameOver(false); }}\n              gameWidth={CONFIG.GAME_WIDTH}\n              gameHeight={CONFIG.GAME_HEIGHT}\n            />\n          ) : (\n            /* Normal Game Display */\n            <>\n              <svg width={CONFIG.GAME_WIDTH} height={CONFIG.GAME_HEIGHT} style={{ background: \"#222d45\", border: \"4px solid #665f51\", borderRadius: \"8px\" }}>\n                {/* Stars */}\n                {[...Array(24)].map((_, i) => (\n                  <circle key={i} cx={Math.random()*CONFIG.GAME_WIDTH} cy={Math.random()*CONFIG.GAME_HEIGHT} r={1.2} fill=\"white\" opacity=\"0.5\"/>\n                ))}\n                {/* Obstacles, Enemies, Beams, Harry */}\n                {obstacles.map(o => renderObstacle(o, CONFIG.OBSTACLE_W, CONFIG.OBSTACLE_GAP, CONFIG.GAME_HEIGHT))}\n                {enemies.map(e => renderEnemy(e, CONFIG.ENEMY_W, CONFIG.ENEMY_H))}\n                {renderBeams(beams)}\n                {renderHarry(playerY, beams, CONFIG.PLAYER_W, CONFIG.PLAYER_H)}\n              </svg>\n              <div style={{ \n                fontSize: \"24px\", margin: \"16px 0\", color: \"#f3ce13\", \n                fontWeight: \"bold\", textShadow: \"2px 2px 4px rgba(0,0,0,0.5)\" \n              }}>\n                Score: {score}\n              </div>\n            </>\n          )}\n          \n          {/* Pause Overlay */}\n          {isPaused && (\n            <PauseOverlay\n              onResume={() => setIsPaused(false)}\n              onRestart={() => {\n                setIsPaused(false);\n                startGame();\n              }}\n              onHelp={() => setShowHelp(true)}\n              gameWidth={CONFIG.GAME_WIDTH}\n              gameHeight={CONFIG.GAME_HEIGHT}\n            />\n          )}\n        </div>\n        \n        {/* Enhanced Leaderboard */}\n        <Leaderboard leaderboard={leaderboard} />\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}